<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Firebase</title>
  </head>
  <body class="light">
    <h1 id="hello"><span>Hello Admin</span></h1>
    <h1>Firebase 9</h1>

    <label class="switch">
      <input type="checkbox" id="switch" checked />
      <span class="slider round"></span>
    </label>

    <h1>Firebase Auth</h1>

    <!--! Display User -->
    <div class="profile"></div>

    <!--! Sign-up && Add user && Get user -->
    <form class="signup">
      <fieldset>
        <legend>Sign Up</legend>
        <div>
          <label>Username:</label>
          <input class="inputs" type="text" name="username" required />
        </div>
        <div>
          <label>Email:</label>
          <input class="inputs" type="email" name="email" required />
        </div>
        <div>
          <label>Password:</label>
          <input class="inputs" type="password" name="password" required />
        </div>
        <div>
          <label>Avatar:</label>
          <input class="inputs" type="file" name="avatar" required />
        </div>

        <button class="upd">Sign Up</button>
      </fieldset>
    </form>

    <form class="uplImg">
      <fieldset>
        <legend>Upload Image</legend>
        <input class="inputs" type="file" name="img" />

        <button class="pos">Upload Image</button>
      </fieldset>
    </form>

    <form class="getUser">
      <fieldset>
        <legend>Get post</legend>
        <button class="pos">Get user</button>
      </fieldset>
    </form>

    <!--! Delete user -->
    <form class="deleteUser">
      <fieldset>
        <legend>Delete User</legend>
        <input
          class="inputs"
          type="text"
          name="username"
          placeholder="Enter Username of user..."
        />
        <button class="neg">Delete user</button>
      </fieldset>
    </form>

    <!--! Add Remove Post -->
    <form class="post">
      <fieldset>
        <legend>Add post</legend>
        <div>
          <label>title:</label>
          <input class="inputs" type="text" name="title" required />
        </div>
        <div>
          <label>Photo:</label>
          <input class="inputs" id="src" type="file" name="img_url" required />
        </div>
        <button class="upd">Post</button>
      </fieldset>
    </form>
    <form class="delete_post">
      <fieldset>
        <legend>Delete post</legend>
        <button class="neg">Delete Post</button>
      </fieldset>
    </form>

    <!--! Logout -->
    <form class="logout">
      <fieldset>
        <legend>Logout</legend>
        <button class="logout neg">Loge out</button>
      </fieldset>
    </form>

    <!--! Login -->
    <form class="login">
      <fieldset>
        <legend>Login</legend>
        <div>
          <label>Email:</label>
          <input class="inputs" type="email" name="email" required />
        </div>
        <div>
          <label>Password:</label>
          <input class="inputs" type="password" name="password" required />
        </div>

        <button class="pos">Login</button>
      </fieldset>
    </form>

    <h1>Firestore Subcollection</h1>
    <ul id="listCol"></ul>

    <script>
      // if user is login or not
      const profileDiv = document.querySelector(".profile");
      let userData = localStorage.getItem("userData");
      if (userData !== null) {
        userData = JSON.parse(userData);
        profileDiv.innerHTML = `
          <img src="${userData.avatar.url}" alt"${userData.avatar.name}" width="100px"/>
          <h3>${userData.username}</h3>
          <h4>${userData.email}</h4>
          `;
      } else {
        console.log(false);
      }

      const body = document.querySelector("body");
      const switchMode = document.querySelector("#switch");
      const fieldsets = [...document.querySelectorAll("fieldset")];
      const inputs = [...document.querySelectorAll(".inputs")];

      // switchMode.addEventListener("click", () => {
      //  ...
      // });
      if (switchMode.checked) {
        body.classList.toggle("dark");
        fieldsets.map((e) => e.classList.toggle("dark-form"));
        inputs.map((e) => e.classList.toggle("dark-input"));
      }
    </script>
    <script src="./bundle.js"></script>
  </body>
</html>
